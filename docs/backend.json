{
  "entities": {
    "Analysis": {
      "title": "Analysis",
      "description": "Represents a website analysis result.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who performed the analysis."
        },
        "overview": {
          "type": "object",
          "properties": {
            "url": { "type": "string" },
            "domain": { "type": "string" },
            "title": { "type": "string" },
            "description": { "type": "string" },
            "language": { "type": "string" },
            "favicon": { "type": "string" }
          }
        },
        "performance": {
          "type": "object",
          "properties": {
            "performanceScore": { "type": "number" },
            "accessibilityScore": { "type": "number" },
            "seoScore": { "type": "number" },
            "bestPracticesScore": { "type": "number" }
          }
        },
        "security": {
          "type": "object",
          "properties": {
            "sslGrade": { "type": "string" },
            "securityHeadersGrade": { "type": "string" },
            "domainExpiry": { "type": "string" },
            "isSecure": { "type": "boolean" }
          }
        },
        "metadata": {
          "type": "object",
          "properties": {
            "openGraphTags": { "type": "object" },
            "hasRobotsTxt": { "type": "boolean" },
            "hasSitemapXml": { "type": "boolean" }
          }
        },
        "hosting": {
          "type": "object",
          "properties": {
            "ip": { "type": "string" },
            "isp": { "type": "string" },
            "country": { "type": "string" }
          }
        },
        "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "The timestamp when the analysis was created."
        }
      },
      "required": ["userId", "overview", "createdAt"]
    }
  },
  "auth": {
    "providers": ["anonymous"]
  },
  "firestore": {
    "/analyses/{analysisId}": {
      "schema": { "$ref": "#/entities/Analysis" },
      "description": "Stores individual website analysis reports."
    }
  }
}
